<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Temple Details</title>
</head>
<body>
    <h1>Temple Details</h1>
    <div id="result">Loading...</div>

    <script>
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        async function showTempleDetails(name) {
            try {
                const url =` https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(name + " Kumbakonam")}`;
                const response = await fetch(url);
                if(!response.ok) throw new Error('Not found');
                const data = await response.json();

                document.getElementById('result').innerHTML = `
                    <h2>${data.title}</h2>
                    <p>${data.extract}</p>
                    <a href="${data.content_urls.desktop.page}" target="_blank">Read more on Wikipedia</a>
                `;
            } catch {
                document.getElementById('result').innerHTML = 'Temple details not found on Wikipedia';
            }
        }

        const templeName = getQueryParam('name');
        if(templeName) showTempleDetails(templeName);
        else document.getElementById('result').innerHTML = 'No temple name provided';
    </script>
</body>
</html>
