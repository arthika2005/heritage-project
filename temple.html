!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kumbakonam Temples</title>
</head>
<body>
    <h1>Kumbakonam Temples Search</h1>
    <input type="text" id="templeName" placeholder="Enter temple name">
    <button onclick="searchTemple()">Search</button>
    <button onclick="saveTemple()">Save Temple</button>

    <div id="result"></div>
    <h2>Saved Temples</h2>
    <ul id="savedList"></ul>

    <script>
        // Search Wikipedia
        async function searchTemple() {
            const name = document.getElementById('templeName').value;
            if(!name) return alert('Enter temple name');

            try {
                const url = https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(name + " Kumbakonam")};
                const response = await fetch(url);
                if(!response.ok) throw new Error('Not found');
                const data = await response.json();

                document.getElementById('result').innerHTML = `
                    <h2>${data.title}</h2>
                    <p>${data.extract}</p>
                    <a href="${data.content_urls.desktop.page}" target="_blank">Read more on Wikipedia</a>
                `;
            } catch {
                document.getElementById('result').innerHTML = 'Temple details not found on Wikipedia';
            }
        }

        // Save temple to localStorage
        function saveTemple() {
            const name = document.getElementById('templeName').value;
            if(!name) return alert('Enter temple name');

            let temples = JSON.parse(localStorage.getItem('temples') || '[]');
            if(!temples.includes(name)) temples.push(name);
            localStorage.setItem('temples', JSON.stringify(temples));
 loadSavedTemples();
        }

        // Load saved temples
        function loadSavedTemples() {
            const temples = JSON.parse(localStorage.getItem('temples') || '[]');
            const list = document.getElementById('savedList');
            list.innerHTML = '';
            temples.forEach(t => {
                const li = document.createElement('li');
                li.innerHTML = <a href="#" onclick="searchSavedTemple('${t}')">${t}</a>;
                list.appendChild(li);
            });
        }

        function searchSavedTemple(name) {
            document.getElementById('templeName').value = name;
            searchTemple();
        }

        // Load saved temples on page load
        loadSavedTemples();
    </script>
</body>
</html>
